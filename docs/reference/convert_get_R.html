<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Converting between volume and mass concentrations isn't as straightforward as you may think. The molar gas constant
is a natur constant. As such is subject to changes if more accurate measurements are avaible.
CODATA is a comittee appointed to
frequently publish a collection of natur constants. For the molar gas constant for example:
CODATA 1986  8.314510
CODATA 1998  8.314472
CODATA 2010  8.3144621
CODATA 2014  8.3144598

Other questions are the exact values for temperature, pressure and mol masses. This function set allows the
customization of all used constants for the conversion. In the example is showed how to use the CODATA 2014 value
for the molar gas constant, 1013.25 hPA for the pressure and add Ammoniak (NH3) to the conversions."><title>Customize concentration conversion — convert_get_R • rOstluft</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Customize concentration conversion — convert_get_R"><meta property="og:description" content="Converting between volume and mass concentrations isn't as straightforward as you may think. The molar gas constant
is a natur constant. As such is subject to changes if more accurate measurements are avaible.
CODATA is a comittee appointed to
frequently publish a collection of natur constants. For the molar gas constant for example:
CODATA 1986  8.314510
CODATA 1998  8.314472
CODATA 2010  8.3144621
CODATA 2014  8.3144598

Other questions are the exact values for temperature, pressure and mol masses. This function set allows the
customization of all used constants for the conversion. In the example is showed how to use the CODATA 2014 value
for the molar gas constant, 1013.25 hPA for the pressure and add Ammoniak (NH3) to the conversions."><meta property="og:image" content="https://ostluft.github.io/rOstluft/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rOstluft</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tutorial.html">[GER] Tutorial</a>
    <a class="dropdown-item" href="../articles/Technische_Entscheidungen.html">[GER] Technische Entscheidungen</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/tutorial.html">
    <span class="fa fa-leanpub"></span>
     
    Tutorial
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Ostluft/rOstluft">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Customize concentration conversion</h1>
      <small class="dont-index">Source: <a href="https://github.com/Ostluft/rOstluft/blob/HEAD/R/conversion-conc.R" class="external-link"><code>R/conversion-conc.R</code></a></small>
      <div class="d-none name"><code>convert_get_R.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converting between volume and mass concentrations isn't as straightforward as you may think. The molar gas constant
is a natur constant. As such is subject to changes if more accurate measurements are avaible.
<a href="http://www.codata.org/committees-and-groups/fundamental-physical-constants" class="external-link">CODATA</a> is a comittee appointed to
frequently publish a collection of natur constants. For the molar gas constant for example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>CODATA <span class="dv">1986</span>  <span class="fl">8.314510</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>CODATA <span class="dv">1998</span>  <span class="fl">8.314472</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>CODATA <span class="dv">2010</span>  <span class="fl">8.3144621</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>CODATA <span class="dv">2014</span>  <span class="fl">8.3144598</span></span></code></pre><p></p></div>
<p>Other questions are the exact values for temperature, pressure and mol masses. This function set allows the
customization of all used constants for the conversion. In the example is showed how to use the CODATA 2014 value
for the molar gas constant, 1013.25 hPA for the pressure and add Ammoniak (NH3) to the conversions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convert_get_R</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convert_set_R</span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convert_get_mol_masses</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convert_set_mol_masses</span><span class="op">(</span><span class="va">mol_masses</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convert_get_conc_lookup</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convert_set_conc_lookup</span><span class="op">(</span><span class="va">lookup</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>R</dt>
<dd><p>new value for molar gas constant in</p><div class="sourceCode"><pre><code>[kg * m2 / (s2 * mol * K)]</code></pre></div></dd>


<dt>mol_masses</dt>
<dd><p>A tibble with one row, parameter as name of column and mol mass as bare double value in</p><div class="sourceCode"><pre><code>[g / mol]</code></pre></div></dd>


<dt>lookup</dt>
<dd><p>new lookup table. For Details see section Lookup Table or examples</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The constants for R, mol masses or the lookup table for conversions</p>
    </div>
    <div class="section level2">
    <h2 id="lookup-table">Lookup Table<a class="anchor" aria-label="anchor" href="#lookup-table"></a></h2>
    


<p>The lookup table is used to pick to correct conversion function. The table is a tibble with the columns parameter,
from, to and FUN. The <code><a href="conversion_conc_fun_factory.html">conversion_conc_fun_factory()</a></code> uses this lookup table to create a partial function from FUN.
The partial function gets the mol mass (as mol_mass) of the parameter and all ... arguments applied as named
arguments. This allows to change the default values of <code><a href="mass_to_parts.html">mass_to_parts()</a></code> and <code><a href="parts_to_mass.html">parts_to_mass()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="convert_conc.html">convert_conc()</a></code></p></li>
<li><p><code><a href="conversion_conc_fun_factory.html">conversion_conc_fun_factory()</a></code></p></li>
<li><p><code><a href="https://rlang.r-lib.org/reference/bare-type-predicates.html" class="external-link">rlang::is_bare_double()</a></code></p></li>
<li><p><code><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">purrr::partial()</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Update molar mas constant R to CODATA 2014 value</span></span></span>
<span class="r-in"><span><span class="fu">convert_set_R</span><span class="op">(</span><span class="fl">8.3144598</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add NH3 to the existing mol masses</span></span></span>
<span class="r-in"><span><span class="va">mol_masses</span> <span class="op">&lt;-</span> <span class="fu">convert_get_mol_masses</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mol_masses</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">mol_masses</span>, <span class="st">"NH3"</span> <span class="op">=</span> <span class="fl">17.03</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">convert_set_mol_masses</span><span class="op">(</span><span class="va">mol_masses</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to update the default pressure rebuild the lookup table</span></span></span>
<span class="r-in"><span><span class="co"># with partial functions of mass_to_parts, parts_to_mass</span></span></span>
<span class="r-in"><span><span class="co"># at the same time add mappings for NH3</span></span></span>
<span class="r-in"><span><span class="va">mass_to_parts_partial</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span><span class="va">mass_to_parts</span>, pressure <span class="op">=</span> <span class="fl">1013.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">parts_to_mass_partial</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span><span class="va">parts_to_mass</span>, pressure <span class="op">=</span> <span class="fl">1013.25</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lookup</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">parameter</span>, <span class="op">~</span><span class="va">from</span>, <span class="op">~</span><span class="va">to</span>, <span class="op">~</span><span class="va">FUN</span>,</span></span>
<span class="r-in"><span>  <span class="st">"CO"</span>, <span class="st">"ppm"</span>, <span class="st">"mg/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NO"</span>, <span class="st">"ppb"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"O3"</span>, <span class="st">"ppb"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NO2"</span>, <span class="st">"ppb"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"SO2"</span>, <span class="st">"ppb"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"CO"</span>, <span class="st">"mg/m3"</span>, <span class="st">"ppm"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NO"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="st">"ppb"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"O3"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="st">"ppb"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NO2"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="st">"ppb"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"SO2"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="st">"ppb"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NH3"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="st">"ppb"</span>, <span class="va">mass_to_parts_partial</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NH3"</span>, <span class="st">"ppb"</span>, <span class="st">"\u00b5g/m3"</span>, <span class="va">parts_to_mass_partial</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">convert_set_conc_lookup</span><span class="op">(</span><span class="va">lookup</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas von Allmen, Jörg Sintermann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>


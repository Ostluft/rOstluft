<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Customize concentration conversion — convert_get_R • rOstluft</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Customize concentration conversion — convert_get_R" />

<meta property="og:description" content="Converting between volume and mass concentrations isn't as straightforward as you may think. The molar gas constant
is a natur constant. As such is subject to changes if more accurate measurements are avaible.
CODATA is a comittee appointed to
frequently publish a collection of natur constants. For the molar gas constant for example:CODATA 1986  8.314510
CODATA 1998  8.314472
CODATA 2010  8.3144621
CODATA 2014  8.3144598
" />

<meta property="og:description" content="Other questions are the exact values for temperature, pressure and mol masses. This function set allows the
customization of all used constants for the conversion. In the example is showed how to use the CODATA 2014 value
for the molar gas constant, 1013.25 hPA for the pressure and add Ammoniak (NH3) to the conversions." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rOstluft</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/tutorial.html">[GER] Tutorial</a>
    </li>
    <li>
      <a href="../articles/Technische_Entscheidungen.html">[GER] Technische Entscheidungen</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/articles/tutorial.html">
    <span class="fa fa-leanpub"></span>
     
    Tutorial
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Ostluft/rOstluft">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Customize concentration conversion</h1>
    <small class="dont-index">Source: <a href='https://github.com/Ostluft/rOstluft/blob/master/R/conversion-conc.R'><code>R/conversion-conc.R</code></a></small>
    <div class="hidden name"><code>convert_get_R.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Converting between volume and mass concentrations isn't as straightforward as you may think. The molar gas constant
is a natur constant. As such is subject to changes if more accurate measurements are avaible.
<a href='http://www.codata.org/committees-and-groups/fundamental-physical-constants'>CODATA</a> is a comittee appointed to
frequently publish a collection of natur constants. For the molar gas constant for example:</p><pre>CODATA 1986  8.314510
CODATA 1998  8.314472
CODATA 2010  8.3144621
CODATA 2014  8.3144598
</pre>

    <p>Other questions are the exact values for temperature, pressure and mol masses. This function set allows the
customization of all used constants for the conversion. In the example is showed how to use the CODATA 2014 value
for the molar gas constant, 1013.25 hPA for the pressure and add Ammoniak (NH3) to the conversions.</p>
    
    </div>

    <pre class="usage"><span class='fu'>convert_get_R</span>()

<span class='fu'>convert_set_R</span>(<span class='no'>R</span>)

<span class='fu'>convert_get_mol_masses</span>()

<span class='fu'>convert_set_mol_masses</span>(<span class='no'>mol_masses</span>)

<span class='fu'>convert_get_conc_lookup</span>()

<span class='fu'>convert_set_conc_lookup</span>(<span class='no'>lookup</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>R</th>
      <td><p>new value for molar gas constant in</p><pre>[kg * m2 / (s2 * mol * K)]</pre></td>
    </tr>
    <tr>
      <th>mol_masses</th>
      <td><p>A tibble with one row, parameter as name of column and mol mass as bare double value in</p><pre>[g / mol]</pre></td>
    </tr>
    <tr>
      <th>lookup</th>
      <td><p>new lookup table. For Details see section Lookup Table or examples</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The constants for R, mol masses or the lookup table for conversions</p>
    
    <h2 class="hasAnchor" id="lookup-table"><a class="anchor" href="#lookup-table"></a>Lookup Table</h2>

    
    <p>The lookup table is used to pick to correct conversion function. The table is a tibble with the columns parameter,
from, to and FUN. The <code><a href='conversion_conc_fun_factory.html'>conversion_conc_fun_factory()</a></code> uses this lookup table to create a partial function from FUN.
The partial function gets the mol mass (as mol_mass) of the parameter and all ... arguments applied as named
arguments. This allows to change the default values of <code><a href='mass_to_parts.html'>mass_to_parts()</a></code> and <code><a href='parts_to_mass.html'>parts_to_mass()</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><ul>
<li><p><code><a href='convert_conc.html'>convert_conc()</a></code></p></li>
<li><p><code><a href='conversion_conc_fun_factory.html'>conversion_conc_fun_factory()</a></code></p></li>
<li><p><code><a href='https://rlang.r-lib.org/reference/bare-type-predicates.html'>rlang::is_bare_double()</a></code></p></li>
<li><p><code><a href='https://purrr.tidyverse.org/reference/partial.html'>purrr::partial()</a></code></p></li>
</ul></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Update molar mas constant R to CODATA 2014 value</span>
<span class='fu'>convert_set_R</span>(<span class='fl'>8.3144598</span>)

<span class='co'># add NH3 to the existing mol masses</span>
<span class='no'>mol_masses</span> <span class='kw'>&lt;-</span> <span class='fu'>convert_get_mol_masses</span>()
<span class='no'>mol_masses</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_cols</a></span>(<span class='no'>mol_masses</span>, <span class='st'>"NH3"</span> <span class='kw'>=</span> <span class='fl'>17.03</span>)
<span class='fu'>convert_set_mol_masses</span>(<span class='no'>mol_masses</span>)

<span class='co'># to update the default pressure rebuild the lookup table</span>
<span class='co'># with partial functions of mass_to_parts, parts_to_mass</span>
<span class='co'># at the same time add mappings for NH3</span>
<span class='no'>mass_to_parts_partial</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>purrr</span><span class='kw ns'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/partial.html'>partial</a></span>(<span class='no'>mass_to_parts</span>, <span class='kw'>pressure</span> <span class='kw'>=</span> <span class='fl'>1013.25</span>)
<span class='no'>parts_to_mass_partial</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>purrr</span><span class='kw ns'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/partial.html'>partial</a></span>(<span class='no'>parts_to_mass</span>, <span class='kw'>pressure</span> <span class='kw'>=</span> <span class='fl'>1013.25</span>)

<span class='no'>lookup</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tibble</span><span class='kw ns'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span>(
  ~<span class='no'>parameter</span>, ~<span class='no'>from</span>, ~<span class='no'>to</span>, ~<span class='no'>FUN</span>,
  <span class='st'>"CO"</span>, <span class='st'>"ppm"</span>, <span class='st'>"mg/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
  <span class='st'>"NO"</span>, <span class='st'>"ppb"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
  <span class='st'>"O3"</span>, <span class='st'>"ppb"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
  <span class='st'>"NO2"</span>, <span class='st'>"ppb"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
  <span class='st'>"SO2"</span>, <span class='st'>"ppb"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
  <span class='st'>"CO"</span>, <span class='st'>"mg/m3"</span>, <span class='st'>"ppm"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"NO"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='st'>"ppb"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"O3"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='st'>"ppb"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"NO2"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='st'>"ppb"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"SO2"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='st'>"ppb"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"NH3"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='st'>"ppb"</span>, <span class='no'>mass_to_parts_partial</span>,
  <span class='st'>"NH3"</span>, <span class='st'>"ppb"</span>, <span class='st'>"\u00b5g/m3"</span>, <span class='no'>parts_to_mass_partial</span>,
)

<span class='fu'>convert_set_conc_lookup</span>(<span class='no'>lookup</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#lookup-table">Lookup Table</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thomas von Allmen, Jörg Sintermann, Noël Rederlechner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>


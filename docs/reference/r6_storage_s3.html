<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>s3 storage — r6_storage_s3 • rOstluft</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="s3 storage — r6_storage_s3" />

<meta property="og:description" content="A s3 storage with flexible file format (default rds). The data format defines the data chunks
per file. The data is cached locally. This local cache can be used as local storage. For performance enhancement it
is recommended after acquiring all needed data from s3 to use the cache as local storage." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rOstluft</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/einleitung.html">[GER] Einleitung rOstluft</a>
    </li>
    <li>
      <a href="../articles/resample.html">[GER] Resampling data</a>
    </li>
    <li>
      <a href="../articles/s3.html">[GER] AWS S3</a>
    </li>
    <li>
      <a href="../articles/Technische_Entscheidungen.html">[GER] Technische Entscheidungen</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Ostluft/rOstluft">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>s3 storage</h1>
    <small class="dont-index">Source: <a href='https://github.com/Ostluft/rOstluft/blob/master/R/storage-s3.R'><code>R/storage-s3.R</code></a></small>
    <div class="hidden name"><code>r6_storage_s3.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A s3 storage with flexible file format (default rds). The data format defines the data chunks
per file. The data is cached locally. This local cache can be used as local storage. For performance enhancement it
is recommended after acquiring all needed data from s3 to use the cache as local storage.</p>
    
    </div>

    <pre class="usage"><span class='fu'>storage_s3_rds</span>(<span class='no'>name</span>, <span class='no'>format</span>, <span class='no'>bucket</span>, <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>region</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>read.only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>name</th>
      <td><p>name of the store</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>data format of the store</p></td>
    </tr>
    <tr>
      <th>bucket</th>
      <td><p>name in aws s3</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>in aws s3</p></td>
    </tr>
    <tr>
      <th>region</th>
      <td><p>aws region</p></td>
    </tr>
    <tr>
      <th>read.only</th>
      <td><p>read only store. disables put, upload</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>R6 class object of storage_s3</p>
    
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    
    <dl class='dl-horizontal'>
<dt><code>name</code></dt><dd><p>name of the store</p></dd>
    <dt><code>format</code></dt><dd><p>data format of the store</p></dd>
    <dt><code>bucket</code></dt><dd><p>s3 bucket containing the store</p></dd>
    <dt><code>region</code></dt><dd><p>aws region of the bucket</p></dd>
    <dt><code>prefix</code></dt><dd><p>of the s3 object keys. see <a href='https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html'>Object Key and Metadata</a></p></dd>
    <dt><code>path</code></dt><dd><p>local root of the store</p></dd>
    <dt><code>data_path</code></dt><dd><p>local root of all chunks</p></dd>
    <dt><code>data_s3</code></dt><dd><p>s3 root key of all chunks</p></dd>
    <dt><code>content_path</code></dt><dd><p>local path to the rds file containing statistics of store content</p></dd>
    <dt><code>content_s3</code></dt><dd><p>s3 object key to the rds file containing statistics of store content</p></dd>
    <dt><code>meta_path</code></dt><dd><p>local root of all meta data files</p></dd>
    <dt><code>meta_s3</code></dt><dd><p>s3 root key of all meta data files</p></dd>
    <dt><code>read.only</code></dt><dd><p>flag for read.only usage of store. Default TRUE</p></dd>
    <dt><code>ext</code></dt><dd><p>file extension for chunks. Default "rds"</p></dd>
    <dt><code>read_function</code></dt><dd><p>function(file) for reading chunks from disk. Default <code><a href='https://www.rdocumentation.org/packages/base/topics/readRDS'>base::readRDS()</a></code></p></dd>
    <dt><code>write_function</code></dt><dd><p>function(object, file) for writing chunks to disk. Default <code><a href='https://www.rdocumentation.org/packages/base/topics/readRDS'>base::saveRDS()</a></code></p></dd>
</dl>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <p><code>$get(filter=NULL, ...)</code> get data from the store. The name of the arguments depend on the format. The filter
argument is applied to each chunk.</p>
<p><code>$download(...)</code> downloads data from s3 to the local cache. The dots arguments are used to filter the output of
list_chunks(). Only the matching rows will be downloaded.</p>
<p><code>$put(data)</code> puts the data into the store. Stops if store is read only</p>
<p><code>$upload()</code> uploads content, meta data and all new and changed chunks to the s3 storage. For big additions to the
store the recommend way is to use a local storage to modify the cache and use this function to apply the change.</p>
<p><code>$get_content()</code> returns a tibble with the amount of data points per chunk per series</p>
<p><code>$list_chunks()</code> get list of all chunks in s3 and local</p>
<p><code>$get_meta(key=NULL)</code> get meta data. If key is omitted returns all the content of all files in a named list of
tibbles, with the file name without extension as name. If key is supplied as argument only the list contains only the
specified key.</p>
<p><code>$put_meta(...)</code> puts meta data into the store. the name of the argument is used as file name and the value as data.</p>
<p><code>$get_local_storage()</code> returns a storage to work with the cached data like a local storage</p>
<p><code>$destroy(confirmation)</code> removes all files under path from the file system if "DELETE" is supplied as
confirmation</p>
    
    <h2 class="hasAnchor" id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h2>

    
    <p>See the documentation of <a href='https://github.com/cloudyr/aws.signature/'>aws.signature</a> for ways to provide the
necessary informations. The simplest way is to use environment variables defined in a <code>.Renviron</code> file in the
root directory of a RStudio Project:</p><pre>AWS_ACCESS_KEY_ID = "xxxxxxxxxxxxxxxxxx"
AWS_SECRET_ACCESS_KEY = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
AWS_DEFAULT_REGION = "eu-central-1"
</pre>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## init store, creates directory if necessary</span>
<span class='no'>format</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>rOstluft</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/rOstluft/topics/format_rolf'>format_rolf</a></span>()
<span class='no'>store</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>rOstluft</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/rOstluft/topics/r6_storage_s3'>storage_s3_rds</a></span>(<span class='st'>"s3_example"</span>, <span class='no'>format</span>, <span class='st'>"rostluft"</span>, <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='st'>"aqmet"</span>)

<span class='co'>## get all data min30 for 2011 and 2012</span>
<span class='no'>store</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/get'>get</a></span>(<span class='kw'>site</span> <span class='kw'>=</span> <span class='st'>"Zch_Stampfenbachstrasse"</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"min30"</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2011</span>:<span class='fl'>2012</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 488,322 x 6</span><span>
#&gt;    starttime           site                    parameter interval unit    value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse CO        min30    ppm    0.525 
#&gt; </span><span style='color: #555555;'> 2</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse Hr        min30    %Hr   91.9   
#&gt; </span><span style='color: #555555;'> 3</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NO2       min30    ppb   22.0   
#&gt; </span><span style='color: #555555;'> 4</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NO        min30    ppb   21.0   
#&gt; </span><span style='color: #555555;'> 5</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NOx       min30    ppb   43.0   
#&gt; </span><span style='color: #555555;'> 6</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.10  
#&gt; </span><span style='color: #555555;'> 7</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse PM10      min30    µg/m3 84.0   
#&gt; </span><span style='color: #555555;'> 8</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse RainDur   min30    min    0     
#&gt; </span><span style='color: #555555;'> 9</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse SO2       min30    ppb    1.90  
#&gt; </span><span style='color: #555555;'>10</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse StrGlo    min30    W/m2   0.010</span><span style='text-decoration: underline;'>4</span><span>
#&gt; </span><span style='color: #555555;'># ... with 488,312 more rows</span><span></div><div class='input'>
<span class='co'>## get only data for O3</span>
<span class='no'>store</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/get'>get</a></span>(<span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2011</span>:<span class='fl'>2012</span>, <span class='kw'>site</span> <span class='kw'>=</span> <span class='st'>"Zch_Stampfenbachstrasse"</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"min30"</span>,
          <span class='kw'>filter</span> <span class='kw'>=</span> <span class='no'>parameter</span> <span class='kw'>==</span> <span class='st'>"O3"</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 34,996 x 6</span><span>
#&gt;    starttime           site                    parameter interval unit   value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.10 
#&gt; </span><span style='color: #555555;'> 2</span><span> 2011-01-01 </span><span style='color: #555555;'>00:30:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.05 
#&gt; </span><span style='color: #555555;'> 3</span><span> 2011-01-01 </span><span style='color: #555555;'>01:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.05 
#&gt; </span><span style='color: #555555;'> 4</span><span> 2011-01-01 </span><span style='color: #555555;'>01:30:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.00 
#&gt; </span><span style='color: #555555;'> 5</span><span> 2011-01-01 </span><span style='color: #555555;'>02:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.02 
#&gt; </span><span style='color: #555555;'> 6</span><span> 2011-01-01 </span><span style='color: #555555;'>02:30:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.05 
#&gt; </span><span style='color: #555555;'> 7</span><span> 2011-01-01 </span><span style='color: #555555;'>03:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    0.973
#&gt; </span><span style='color: #555555;'> 8</span><span> 2011-01-01 </span><span style='color: #555555;'>03:30:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.02 
#&gt; </span><span style='color: #555555;'> 9</span><span> 2011-01-01 </span><span style='color: #555555;'>04:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    3.10 
#&gt; </span><span style='color: #555555;'>10</span><span> 2011-01-01 </span><span style='color: #555555;'>04:30:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb   18.7  
#&gt; </span><span style='color: #555555;'># ... with 34,986 more rows</span><span></div><div class='input'>
<span class='co'>## get NOx data from multiple stations</span>
<span class='no'>store</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/get'>get</a></span>(<span class='kw'>site</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Zch_Stampfenbachstrasse"</span>, <span class='st'>"Zch_Rosengartenstrasse"</span>), <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"min30"</span>,
          <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2014</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='no'>parameter</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"NOx"</span>, <span class='st'>"NO"</span>, <span class='st'>"NO2"</span>))</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 104,547 x 6</span><span>
#&gt;    starttime           site                   parameter interval unit  value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                  </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> 2014-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Rosengartenstrasse NO2       min30    ppb    18.6
#&gt; </span><span style='color: #555555;'> 2</span><span> 2014-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Rosengartenstrasse NO        min30    ppb    42.8
#&gt; </span><span style='color: #555555;'> 3</span><span> 2014-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Rosengartenstrasse NOx       min30    ppb    61.4
#&gt; </span><span style='color: #555555;'> 4</span><span> 2014-01-01 </span><span style='color: #555555;'>00:30:00</span><span> Zch_Rosengartenstrasse NO2       min30    ppb    21.3
#&gt; </span><span style='color: #555555;'> 5</span><span> 2014-01-01 </span><span style='color: #555555;'>00:30:00</span><span> Zch_Rosengartenstrasse NO        min30    ppb    55.9
#&gt; </span><span style='color: #555555;'> 6</span><span> 2014-01-01 </span><span style='color: #555555;'>00:30:00</span><span> Zch_Rosengartenstrasse NOx       min30    ppb    77.2
#&gt; </span><span style='color: #555555;'> 7</span><span> 2014-01-01 </span><span style='color: #555555;'>01:00:00</span><span> Zch_Rosengartenstrasse NO2       min30    ppb    28.2
#&gt; </span><span style='color: #555555;'> 8</span><span> 2014-01-01 </span><span style='color: #555555;'>01:00:00</span><span> Zch_Rosengartenstrasse NO        min30    ppb    88.1
#&gt; </span><span style='color: #555555;'> 9</span><span> 2014-01-01 </span><span style='color: #555555;'>01:00:00</span><span> Zch_Rosengartenstrasse NOx       min30    ppb   116. 
#&gt; </span><span style='color: #555555;'>10</span><span> 2014-01-01 </span><span style='color: #555555;'>01:30:00</span><span> Zch_Rosengartenstrasse NO2       min30    ppb    39.8
#&gt; </span><span style='color: #555555;'># ... with 104,537 more rows</span><span></div><div class='input'>
<span class='co'>## get n data points grouped by intervall, station, parameter, year in the store</span>
<span class='no'>store</span>$<span class='fu'>get_content</span>()</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 8,717 x 6</span><span>
#&gt;     year interval site             parameter unit                      n
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                 </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg Hr        %                      </span><span style='text-decoration: underline;'>9</span><span>063
#&gt; </span><span style='color: #555555;'> 2</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg illum     logbase10ofvalueinLux  </span><span style='text-decoration: underline;'>9</span><span>063
#&gt; </span><span style='color: #555555;'> 3</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg p         hPa                    </span><span style='text-decoration: underline;'>9</span><span>064
#&gt; </span><span style='color: #555555;'> 4</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg RainSum   mm                     </span><span style='text-decoration: underline;'>9</span><span>063
#&gt; </span><span style='color: #555555;'> 5</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg T         °C                     </span><span style='text-decoration: underline;'>9</span><span>063
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg T_dew     °C                     </span><span style='text-decoration: underline;'>9</span><span>063
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg wcp_east  m/s                    </span><span style='text-decoration: underline;'>9</span><span>064
#&gt; </span><span style='color: #555555;'> 8</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg wcp_north m/s                    </span><span style='text-decoration: underline;'>9</span><span>064
#&gt; </span><span style='color: #555555;'> 9</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg WD        °                      </span><span style='text-decoration: underline;'>9</span><span>064
#&gt; </span><span style='color: #555555;'>10</span><span>  </span><span style='text-decoration: underline;'>2</span><span>019 min10    ETHZ_Hönggerberg WD_max    °                      </span><span style='text-decoration: underline;'>9</span><span>064
#&gt; </span><span style='color: #555555;'># ... with 8,707 more rows</span><span></div><div class='input'>
<span class='co'>## get list of all chunks, show only local files</span>
<span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>store</span>$<span class='fu'>list_chunks</span>(), !<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a></span>(<span class='no'>local.path</span>))</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 6 x 11</span><span>
#&gt;   chunk_name interval site  year  s3.key s3.lastmodified s3.etag s3.size
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;fs::b&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> min30/bWl~ min30    Zch_~ 2013  aqmet~ 2019-03-05T16:~ 30b0e5~    168K
#&gt; </span><span style='color: #555555;'>2</span><span> min30/bWl~ min30    Zch_~ 2014  aqmet~ 2019-03-05T16:~ c2aa65~ 662.57K
#&gt; </span><span style='color: #555555;'>3</span><span> min30/bWl~ min30    Zch_~ 2015  aqmet~ 2019-03-05T16:~ 6c6620~ 780.05K
#&gt; </span><span style='color: #555555;'>4</span><span> min30/bWl~ min30    Zch_~ 2014  aqmet~ 2019-03-05T16:~ 638793~   1.07M
#&gt; </span><span style='color: #555555;'>5</span><span> min30/bWl~ min30    Zch_~ 2011  aqmet~ 2019-03-05T16:~ 934330~   1.07M
#&gt; </span><span style='color: #555555;'>6</span><span> min30/bWl~ min30    Zch_~ 2012  aqmet~ 2019-03-05T16:~ c78ad3~   1.07M
#&gt; </span><span style='color: #555555;'># ... with 3 more variables: local.path </span><span style='color: #555555;font-style: italic;'>&lt;fs::path&gt;</span><span style='color: #555555;'>,
#&gt; #   local.modification_time </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, local.size </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span></div><div class='input'>
<span class='co'>## download all data for site Zch_Rosengartenstrasse before 2016</span>
<span class='no'>store</span>$<span class='fu'>download</span>(<span class='no'>site</span> <span class='kw'>==</span> <span class='st'>"Zch_Rosengartenstrasse"</span>, <span class='no'>year</span> <span class='kw'>&lt;</span> <span class='fl'>2016</span>)</div><div class='output co'>#&gt; list()</div><div class='input'>
<span class='co'>## now there should be 2 more local files</span>
<span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>store</span>$<span class='fu'>list_chunks</span>(), !<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a></span>(<span class='no'>local.path</span>))</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 6 x 11</span><span>
#&gt;   chunk_name interval site  year  s3.key s3.lastmodified s3.etag s3.size
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;fs::b&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> min30/bWl~ min30    Zch_~ 2013  aqmet~ 2019-03-05T16:~ 30b0e5~    168K
#&gt; </span><span style='color: #555555;'>2</span><span> min30/bWl~ min30    Zch_~ 2014  aqmet~ 2019-03-05T16:~ c2aa65~ 662.57K
#&gt; </span><span style='color: #555555;'>3</span><span> min30/bWl~ min30    Zch_~ 2015  aqmet~ 2019-03-05T16:~ 6c6620~ 780.05K
#&gt; </span><span style='color: #555555;'>4</span><span> min30/bWl~ min30    Zch_~ 2014  aqmet~ 2019-03-05T16:~ 638793~   1.07M
#&gt; </span><span style='color: #555555;'>5</span><span> min30/bWl~ min30    Zch_~ 2011  aqmet~ 2019-03-05T16:~ 934330~   1.07M
#&gt; </span><span style='color: #555555;'>6</span><span> min30/bWl~ min30    Zch_~ 2012  aqmet~ 2019-03-05T16:~ c78ad3~   1.07M
#&gt; </span><span style='color: #555555;'># ... with 3 more variables: local.path </span><span style='color: #555555;font-style: italic;'>&lt;fs::path&gt;</span><span style='color: #555555;'>,
#&gt; #   local.modification_time </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, local.size </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span></div><div class='input'>
<span class='co'>## get all meta data</span>
<span class='no'>store</span>$<span class='fu'>get_meta</span>()</div><div class='output co'>#&gt; $meta
#&gt; </span><span style='color: #555555;'># A tibble: 1,202 x 12</span><span>
#&gt;    site  site_short site_long      x      y  masl parameter_origi~ parameter
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    
#&gt; </span><span style='color: #555555;'> 1</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 Hr               Hr       
#&gt; </span><span style='color: #555555;'> 2</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 NO               NO       
#&gt; </span><span style='color: #555555;'> 3</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 NO2              NO2      
#&gt; </span><span style='color: #555555;'> 4</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 NOx              NOx      
#&gt; </span><span style='color: #555555;'> 5</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 O3               O3       
#&gt; </span><span style='color: #555555;'> 6</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 Ox               Ox       
#&gt; </span><span style='color: #555555;'> 7</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 p                p        
#&gt; </span><span style='color: #555555;'> 8</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 PM10             PM10     
#&gt; </span><span style='color: #555555;'> 9</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 SO2              SO2      
#&gt; </span><span style='color: #555555;'>10</span><span> Arb_~ ARBS       Arbon St~ 2.75</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   407 StrGlo           StrGlo   
#&gt; </span><span style='color: #555555;'># ... with 1,192 more rows, and 4 more variables: unit </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span style='color: #555555;'>, interval </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span style='color: #555555;'>,
#&gt; #   timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span style='color: #555555;'>, source </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>
#&gt; 
#&gt; $meta_ecmwf
#&gt; </span><span style='color: #555555;'># A tibble: 24 x 12</span><span>
#&gt;    site_short site  site_long masl  parameter_origi~ unit  interval
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #555555;'> 1</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    t2m              °C    h1      
#&gt; </span><span style='color: #555555;'> 2</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    swvl1            m3/m3 h1      
#&gt; </span><span style='color: #555555;'> 3</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    sp               hPa   h1      
#&gt; </span><span style='color: #555555;'> 4</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    u10              m/s   h1      
#&gt; </span><span style='color: #555555;'> 5</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    v10              m/s   h1      
#&gt; </span><span style='color: #555555;'> 6</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    skt              °C    h1      
#&gt; </span><span style='color: #555555;'> 7</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    ishf             W/m2  h1      
#&gt; </span><span style='color: #555555;'> 8</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    tp               m     h1      
#&gt; </span><span style='color: #555555;'> 9</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    tco3             kg/m2 h1      
#&gt; </span><span style='color: #555555;'>10</span><span> ZH_EraI    Züri~ </span><span style='color: #BB0000;'>NA</span><span>        </span><span style='color: #BB0000;'>NA</span><span>    sund             s     h1      
#&gt; </span><span style='color: #555555;'># ... with 14 more rows, and 5 more variables: timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   source </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, x </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, y </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, parameter </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; 
#&gt; $meta_ethz
#&gt; </span><span style='color: #555555;'># A tibble: 34 x 12</span><span>
#&gt;    site_short site_long site   masl parameter_origi~ unit  interval
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   
#&gt; </span><span style='color: #555555;'> 1</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 p_air            hPa   min10   
#&gt; </span><span style='color: #555555;'> 2</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 T_air            °C    min10   
#&gt; </span><span style='color: #555555;'> 3</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 T_dew            °C    min10   
#&gt; </span><span style='color: #555555;'> 4</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 RH               %     min10   
#&gt; </span><span style='color: #555555;'> 5</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 illum            logb~ min10   
#&gt; </span><span style='color: #555555;'> 6</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 rain             mm    min10   
#&gt; </span><span style='color: #555555;'> 7</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 wspd_vec         m/s   min10   
#&gt; </span><span style='color: #555555;'> 8</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 wspd_scl         m/s   min10   
#&gt; </span><span style='color: #555555;'> 9</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 wdir             °     min10   
#&gt; </span><span style='color: #555555;'>10</span><span> ETHZ_CHN   </span><span style='color: #BB0000;'>NA</span><span>        ETHZ~   510 wspd_pk          m/s   min10   
#&gt; </span><span style='color: #555555;'># ... with 24 more rows, and 5 more variables: timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span style='color: #555555;'>,
#&gt; #   source </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span style='color: #555555;'>, x </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, y </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, parameter </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>
#&gt; 
#&gt; $meta_hysplit
#&gt; </span><span style='color: #555555;'># A tibble: 2 x 12</span><span>
#&gt;   site_short site  site_long x     y     masl  parameter_origi~ parameter unit 
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> ZH-Kasern~ ZH_K~ Zürich_K~ </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    hysplit_cluster  hysplit_~ </span><span style='color: #BB0000;'>NA</span><span>   
#&gt; </span><span style='color: #555555;'>2</span><span> SG-BP-hys~ SG_B~ St. Gall~ </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    hysplit_cluster  hysplit_~ </span><span style='color: #BB0000;'>NA</span><span>   
#&gt; </span><span style='color: #555555;'># ... with 3 more variables: interval </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   source </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; 
#&gt; $meta_meteoschweiz
#&gt; </span><span style='color: #555555;'># A tibble: 214 x 15</span><span>
#&gt;    site_short site  Länge Breite      x      y  masl parameter_origi~ source
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #555555;'> 1</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 tre200s0         Meteo~
#&gt; </span><span style='color: #555555;'> 2</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 ure200s0         Meteo~
#&gt; </span><span style='color: #555555;'> 3</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 prestas0         Meteo~
#&gt; </span><span style='color: #555555;'> 4</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 prestas0         Meteo~
#&gt; </span><span style='color: #555555;'> 5</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 fkl010z1         Meteo~
#&gt; </span><span style='color: #555555;'> 6</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 fkl010z0         Meteo~
#&gt; </span><span style='color: #555555;'> 7</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 dkl010z0         Meteo~
#&gt; </span><span style='color: #555555;'> 8</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 sre000z0         Meteo~
#&gt; </span><span style='color: #555555;'> 9</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 sre000z0         Meteo~
#&gt; </span><span style='color: #555555;'>10</span><span> TAE        Aado~ 8°54' 47°29' 2.71</span><span style='color: #555555;'>e</span><span>6 1.26</span><span style='color: #555555;'>e</span><span>6   539 gre000z0         Meteo~
#&gt; </span><span style='color: #555555;'># ... with 204 more rows, and 6 more variables: unit </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, Beschreibung </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, site_long </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span style='color: #555555;'>, interval </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, parameter </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; 
#&gt; $meta_meteotest
#&gt; </span><span style='color: #555555;'># A tibble: 2 x 11</span><span>
#&gt;   site_short site_long site  lon   lat    masl parameter_origi~ unit  interval
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lgl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #555555;'>1</span><span> SMA_23m    </span><span style='color: #BB0000;'>NA</span><span>        Züri~ </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>      581 T                °C    min10   
#&gt; </span><span style='color: #555555;'>2</span><span> ZUEberg    </span><span style='color: #BB0000;'>NA</span><span>        Züri~ </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>      729 T                °C    min10   
#&gt; </span><span style='color: #555555;'># ... with 2 more variables: timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, source </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; 
#&gt; $meta_ostluft
#&gt; </span><span style='color: #555555;'># A tibble: 974 x 28</span><span>
#&gt;     msID site  site_short site_long msKT  scDTV scDTVJahr scLKWProzent
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 2</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 3</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 4</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 5</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 6</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 7</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 8</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 9</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'>10</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'># ... with 964 more rows, and 20 more variables: scStrassenabstand </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>,
#&gt; #   scEinwohner </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, scEinwohnerJahr </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scVerkehrslage </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scSiedlungsgroesse </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scLagerelativSiedlung </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scIDBStandorttyp </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scIDBStationstyp </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scIDBBebauung </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scIDBVerkehr </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, x </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, y </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, masl </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, spBisDatum </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>,
#&gt; #   parameter </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, msmmBeginn </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, msmmEnde </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, source </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   parameter_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; </div><div class='input'>
<span class='co'>## or a specific meta file</span>
<span class='no'>store</span>$<span class='fu'>get_meta</span>(<span class='st'>"meta_ostluft"</span>)</div><div class='output co'>#&gt; $meta_ostluft
#&gt; </span><span style='color: #555555;'># A tibble: 974 x 28</span><span>
#&gt;     msID site  site_short site_long msKT  scDTV scDTVJahr scLKWProzent
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 2</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 3</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 4</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 5</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 6</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 7</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 8</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'> 9</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'>10</span><span>     1 Arb_~ ARBS       Arbon St~ TG    7900  </span><span style='color: #BB0000;'>NA</span><span>                   3
#&gt; </span><span style='color: #555555;'># ... with 964 more rows, and 20 more variables: scStrassenabstand </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>,
#&gt; #   scEinwohner </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, scEinwohnerJahr </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scVerkehrslage </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scSiedlungsgroesse </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scLagerelativSiedlung </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scIDBStandorttyp </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scIDBStationstyp </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, scIDBBebauung </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   scIDBVerkehr </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, x </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, y </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, masl </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, spBisDatum </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>,
#&gt; #   parameter </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, msmmBeginn </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, msmmEnde </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, source </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>,
#&gt; #   parameter_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, timezone_original </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; </div><div class='input'>
<span class='co'>## get the cache as local storage</span>
<span class='no'>local</span> <span class='kw'>&lt;-</span> <span class='no'>store</span>$<span class='fu'>get_local_storage</span>()
<span class='no'>local</span>$<span class='fu'>list_chunks</span>()</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 6 x 7</span><span>
#&gt;   chunk_name interval site  year 
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> min30/bWl~ min30    Zch_~ 2013 
#&gt; </span><span style='color: #555555;'>2</span><span> min30/bWl~ min30    Zch_~ 2014 
#&gt; </span><span style='color: #555555;'>3</span><span> min30/bWl~ min30    Zch_~ 2015 
#&gt; </span><span style='color: #555555;'>4</span><span> min30/bWl~ min30    Zch_~ 2014 
#&gt; </span><span style='color: #555555;'>5</span><span> min30/bWl~ min30    Zch_~ 2011 
#&gt; </span><span style='color: #555555;'>6</span><span> min30/bWl~ min30    Zch_~ 2012 
#&gt; </span><span style='color: #555555;'># ... with 3 more variables: local.path </span><span style='color: #555555;font-style: italic;'>&lt;fs::path&gt;</span><span style='color: #555555;'>,
#&gt; #   local.modification_time </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span style='color: #555555;'>, local.size </span><span style='color: #555555;font-style: italic;'>&lt;fs::bytes&gt;</span><span></div><div class='input'>
<span class='co'>## get cached data</span>
<span class='no'>local</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/get'>get</a></span>(<span class='kw'>site</span> <span class='kw'>=</span> <span class='st'>"Zch_Stampfenbachstrasse"</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"min30"</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2011</span>:<span class='fl'>2012</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 488,322 x 6</span><span>
#&gt;    starttime           site                    parameter interval unit    value
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span>              </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse CO        min30    ppm    0.525 
#&gt; </span><span style='color: #555555;'> 2</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse Hr        min30    %Hr   91.9   
#&gt; </span><span style='color: #555555;'> 3</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NO2       min30    ppb   22.0   
#&gt; </span><span style='color: #555555;'> 4</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NO        min30    ppb   21.0   
#&gt; </span><span style='color: #555555;'> 5</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse NOx       min30    ppb   43.0   
#&gt; </span><span style='color: #555555;'> 6</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse O3        min30    ppb    1.10  
#&gt; </span><span style='color: #555555;'> 7</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse PM10      min30    µg/m3 84.0   
#&gt; </span><span style='color: #555555;'> 8</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse RainDur   min30    min    0     
#&gt; </span><span style='color: #555555;'> 9</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse SO2       min30    ppb    1.90  
#&gt; </span><span style='color: #555555;'>10</span><span> 2011-01-01 </span><span style='color: #555555;'>00:00:00</span><span> Zch_Stampfenbachstrasse StrGlo    min30    W/m2   0.010</span><span style='text-decoration: underline;'>4</span><span>
#&gt; </span><span style='color: #555555;'># ... with 488,312 more rows</span><span></div><div class='input'>
<span class='co'>## destroy store (careful removes all files on the disk)</span>
<span class='no'>store</span>$<span class='fu'>destroy</span>(<span class='st'>"DELETE"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Store still alive: read.only store or wrong confirmation phrase</span></div><div class='input'>
## No examples for write operations

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#fields">Fields</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#authentication">Authentication</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thomas von Allmen, Jörg Sintermann, Noël Rederlechner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>


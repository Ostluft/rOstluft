<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Aggregate data by different time periods. Following this simple steps:
split data in series
pad data serie (needed for calculation of capture threshold, detection of gaps)
group serie by new interval with lubridate::floor_date()
apply statistical method or user provides function (user can provide list per parameter)

combine resampled series


It is possible to supply different methods for different parameters. The argument statistic can be named list. The
name stands for the parameter. The value can be a function to apply, a name of method or a list of names. Some
methods renames the parameter and changes the unit. A list of method names can only contain one non renaming method."><title>Resampling data — resample • rOstluft</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resampling data — resample"><meta property="og:description" content="Aggregate data by different time periods. Following this simple steps:
split data in series
pad data serie (needed for calculation of capture threshold, detection of gaps)
group serie by new interval with lubridate::floor_date()
apply statistical method or user provides function (user can provide list per parameter)

combine resampled series


It is possible to supply different methods for different parameters. The argument statistic can be named list. The
name stands for the parameter. The value can be a function to apply, a name of method or a list of names. Some
methods renames the parameter and changes the unit. A list of method names can only contain one non renaming method."><meta property="og:image" content="https://ostluft.github.io/rOstluft/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rOstluft</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tutorial.html">[GER] Tutorial</a>
    <a class="dropdown-item" href="../articles/Technische_Entscheidungen.html">[GER] Technische Entscheidungen</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/tutorial.html">
    <span class="fa fa-leanpub"></span>
     
    Tutorial
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Ostluft/rOstluft">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Resampling data</h1>
      <small class="dont-index">Source: <a href="https://github.com/Ostluft/rOstluft/blob/HEAD/R/resample.R" class="external-link"><code>R/resample.R</code></a></small>
      <div class="d-none name"><code>resample.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Aggregate data by different time periods. Following this simple steps:</p><ul><li><p>split data in series</p><ul><li><p>pad data serie (needed for calculation of capture threshold, detection of gaps)</p></li>
<li><p>group serie by new interval with <code><a href="https://lubridate.tidyverse.org/reference/round_date.html" class="external-link">lubridate::floor_date()</a></code></p></li>
<li><p>apply statistical method or user provides function (user can provide list per parameter)</p></li>
</ul></li>
<li><p>combine resampled series</p></li>
</ul><p>It is possible to supply different methods for different parameters. The argument statistic can be named list. The
name stands for the parameter. The value can be a function to apply, a name of method or a list of names. Some
methods renames the parameter and changes the unit. A list of method names can only contain one non renaming method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">resample</span><span class="op">(</span>
  <span class="va">data</span>,
  statistic <span class="op">=</span> <span class="st">"mean"</span>,
  <span class="va">new_interval</span>,
  data_thresh <span class="op">=</span> <span class="cn">NULL</span>,
  max_gap <span class="op">=</span> <span class="cn">NULL</span>,
  rename_parameter <span class="op">=</span> <span class="cn">TRUE</span>,
  percentile <span class="op">=</span> <span class="fl">0.95</span>,
  skip_padding <span class="op">=</span> <span class="cn">FALSE</span>,
  start_date <span class="op">=</span> <span class="cn">NULL</span>,
  end_date <span class="op">=</span> <span class="cn">NULL</span>,
  drop_last <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A tibble in rOstluft long format</p></dd>
<dt>statistic</dt>
<dd><p>Statistical method(s) to apply when aggregating the data.
Can be a simple string with name of the method or a function with one argument.
Or a list with parameter as name and the statistical method as value (function or name of method).
Or a list with parameter as and a list of statisticals methods. All methods must support renaming parameter.
A default statistic for all parameters not in the list, can be defined with the name "default_statistic".
See section Statistical methods and examples</p></dd>
<dt>new_interval</dt>
<dd><p>New interval. Must be longer than actual interval (not checked)</p></dd>
<dt>data_thresh</dt>
<dd><p>optional minimum data capture threshold in to use</p></dd>
<dt>max_gap</dt>
<dd><p>optional maxium Number of consecutive NA values</p></dd>
<dt>rename_parameter</dt>
<dd><p>optional rename parameter</p></dd>
<dt>percentile</dt>
<dd><p>The percentile level used when statistic = "percentile". The default is 0.95</p></dd>
<dt>skip_padding</dt>
<dd><p>don't pad the data before applying statistics. Default FALSE</p></dd>
<dt>start_date</dt>
<dd><p>optional start date for padding. Default min date in series floored to the new interval</p></dd>
<dt>end_date</dt>
<dd><p>optional end date for padding. Default max date in series ceiled to the new interval</p></dd>
<dt>drop_last</dt>
<dd><p>optional drop the last added time point by padding. Default False, true if no end_date
provided and max date != ceiled max date.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>tibble with resampled data</p>
    </div>
    <div class="section level2">
    <h2 id="statistical-methods">Statistical methods<a class="anchor" aria-label="anchor" href="#statistical-methods"></a></h2>
    

<p>The statistical method is a function with a numeric vector as argument and returns a single value.</p><ul><li><p><code>"mean"</code> average value</p></li>
<li><p><code>"median"</code> median value</p></li>
<li><p><code>"sd"</code> standard deviation of values</p></li>
<li><p><code>"sum"</code> sum over all values</p></li>
<li><p><code>"max"</code> maxium value</p></li>
<li><p><code>"min"</code> minimum value</p></li>
<li><p><code>"n"</code> number of valid records, renames parameter, changes unit</p></li>
<li><p><code>"coverage"</code> percentage of valid records, renames parameter, changes unit</p></li>
<li><p><code>"percentile"</code> calculates the percentile. Use the argument percentile to specify the level, renames parameter</p></li>
<li><p><code>"perc95"</code> 95% percentile, renames parameter</p></li>
<li><p><code>"perc98"</code> 98% percentile, renames parameter</p></li>
<li><p><code>"n&gt;8"</code> number of values &gt; 8 (CO d1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;10"</code> number of values &gt; 10 (PM2.5 y1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;25"</code> number of values &gt; 25 (PM2.5 d1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;50"</code> number of values &gt; 50 (PM10 d1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;65"</code> number of values &gt; 65 (O3 d1 indicator), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;80"</code> number of values &gt; 80 (NO2 d1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;100"</code> number of values &gt; 100 (SO2 d1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;120"</code> number of values &gt; 120 (O3 h1 limit), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;160"</code> number of values &gt; 160 (O3 h1 indicator), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;180"</code> number of values &gt; 180 (O3 h1 indicator), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;200"</code> number of values &gt; 200 (O3 h1 indicator), renames parameter, changes unit</p></li>
<li><p><code>"n&gt;240"</code> number of values &gt; 240 (O3 h1 indicator), renames parameter, changes unit</p></li>
<li><p><code>"drop"</code> drops the parameter from the result, useful for persons too lazy to filter the input data</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="wind">Wind<a class="anchor" aria-label="anchor" href="#wind"></a></h2>
    

<p>Wind is a special case. For vector averaging the methods needs two inputs (direction and speed). To resample wind
data it is necessary to specify three parameters with the methods <code>"wind.direction"</code>, <code>"wind.speed_vector"</code> and
<code>"wind.speed_scalar"</code>. Even if scalar or vector speed isn't present. The parameter will be substituted by the other.</p>
<p>Important: Wind calculation are standalone. It is possible to calculate multiple methods for non wind parameters.</p>
    </div>
    <div class="section level2">
    <h2 id="todo">TODO<a class="anchor" aria-label="anchor" href="#todo"></a></h2>
    

<ul><li><p>AOT40 statistic?</p></li>
<li><p>some from https://github.com/davidcarslaw/openair/blob/master/R/aqStats.R?</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">min30</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Zch_Stampfenbachstrasse_min30_2013_Jan.csv"</span>,</span>
<span class="r-in">                     package <span class="op">=</span> <span class="st">"rOstluft.data"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">airmo_min30</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_airmo_csv.html">read_airmo_csv</a></span><span class="op">(</span><span class="va">min30</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># filter volume concenctrations, only use mass concentrations</span></span>
<span class="r-in"><span class="va">airmo_min30</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">airmo_min30</span>, <span class="op">!</span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">unit</span> <span class="op">==</span> <span class="st">"ppb"</span> <span class="op">|</span> <span class="va">.data</span><span class="op">$</span><span class="va">unit</span> <span class="op">==</span> <span class="st">"ppm"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">d1_statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"default_statistic"</span> <span class="op">=</span> <span class="st">"drop"</span>,</span>
<span class="r-in">  <span class="st">"Hr"</span> <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span class="r-in">  <span class="st">"RainDur"</span> <span class="op">=</span> <span class="st">"sum"</span>,</span>
<span class="r-in">  <span class="st">"O3"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"max"</span>, <span class="st">"min"</span>, <span class="st">"n"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu">resample</span><span class="op">(</span><span class="va">airmo_min30</span>, <span class="va">d1_statistics</span>, <span class="st">"d1"</span>, data_thresh <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 186 x 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    starttime           site                    parameter interval unit  value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    76.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2013-01-02 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    83.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2013-01-03 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    78.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2013-01-04 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    83.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2013-01-05 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    83.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2013-01-06 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    82.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2013-01-07 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    84.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2013-01-08 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    79.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2013-01-09 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    89.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2013-01-10 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse Hr        d1       %Hr    89.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ... with 176 more rows</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Note: wind parameters don't support multiple methods via list!</span></span>
<span class="r-in"><span class="va">h1_statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"default_statistic"</span> <span class="op">=</span> <span class="st">"drop"</span>,</span>
<span class="r-in">  <span class="st">"WD"</span> <span class="op">=</span> <span class="st">"wind.direction"</span>,</span>
<span class="r-in">  <span class="st">"WVs"</span> <span class="op">=</span> <span class="st">"wind.speed_scalar"</span>,</span>
<span class="r-in">  <span class="st">"WVv"</span> <span class="op">=</span> <span class="st">"wind.speed_vector"</span>,</span>
<span class="r-in">  <span class="st">"RainDur"</span> <span class="op">=</span> <span class="st">"sum"</span>,</span>
<span class="r-in">  <span class="st">"NO"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"coverage"</span>, <span class="st">"mean"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu">resample</span><span class="op">(</span><span class="va">airmo_min30</span>, <span class="va">h1_statistics</span>, <span class="st">"h1"</span>, data_thresh <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4,464 x 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    starttime           site                    parameter    interval unit  value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2013-01-01 <span style="color: #949494;">01:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2013-01-01 <span style="color: #949494;">02:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2013-01-01 <span style="color: #949494;">03:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2013-01-01 <span style="color: #949494;">04:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2013-01-01 <span style="color: #949494;">05:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2013-01-01 <span style="color: #949494;">06:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2013-01-01 <span style="color: #949494;">07:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2013-01-01 <span style="color: #949494;">08:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2013-01-01 <span style="color: #949494;">09:00:00</span> Zch_Stampfenbachstrasse NO_valid%_m~ h1       %       100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ... with 4,454 more rows</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Note: all resulting values should be NA -&gt; gap is to big (480 * min30 = 10 days)</span></span>
<span class="r-in"><span class="va">y1_statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"default_statistic"</span> <span class="op">=</span> <span class="st">"drop"</span>,</span>
<span class="r-in">  <span class="st">"O3"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"perc98"</span>, <span class="st">"n"</span>, <span class="st">"max"</span>, <span class="st">"min"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu">resample</span><span class="op">(</span><span class="va">airmo_min30</span>, <span class="va">y1_statistics</span>, <span class="st">"y1"</span>, max_gap <span class="op">=</span> <span class="fl">480</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 x 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   starttime           site                    parameter    interval unit  value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse O3           y1       µg/m3    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse O3_98%_min30 y1       µg/m3    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse O3_nb_min30  y1       1        <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse O3_max_min30 y1       µg/m3    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 2013-01-01 <span style="color: #949494;">00:00:00</span> Zch_Stampfenbachstrasse O3_min_min30 y1       µg/m3    <span style="color: #BB0000;">NA</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas von Allmen, Jörg Sintermann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>


---
title: "[GER] Einleitung rOstluft"
author: "Thomas von Allmen"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Einleitung rOstluft}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


```{r include=FALSE}
fn <- system.file("extdata", "Zch_Stampfenbachstrasse_2010-2014.csv", package = "rOstluft.data", mustWork = TRUE)
df <- rOstluft::read_airmo_csv(fn)
df <- dplyr::arrange(df, starttime)
```


# Motivation

Dieses R Package soll die Werkzeuge liefern  mit dem erweiterten Standarddatensatz von Ostluft zu arbeiten und ihn zu pflegen. 
Die Herausforderung steht darin, die in verschiedenen Formaten vorliegenden Daten in ein einheitliches Format zu überführen und 
diese bereitzustellen.


# Datenformat

Die Daten werden in einem Longformat mit folgenden Feldern gespeichert:

* startzeit (in UTC+1)
* station
* parameter
* intervall
* einheit
* wert

Dieses Format erlaubt es die Daten einfach aufzuteilen und wieder zusammenzufügen. 
Zusätzlich ist es mit geringen Aufwand möglich das Format mit weiteren Feldern zu ergänzen, 
sollte der Bedarf bestehen. Eine Umwandlung in ein openair kompatibles Wide Format ist mit einem 
Informationsverlust (intervall, einheit) möglich.

Hier ein Bespiel des Formats:
```{r echo=FALSE}
str(df)
```
```{r echo=FALSE}
knitr::kable(head(df), digits = 2)
```

```{r echo=FALSE}
knitr::kable(tail(df), digits = 2)
```


# Metadaten

Minimalistischer Ansatz, so wenig Metadaten wie nötig. Diese müssen gepflegt werden:

* ID 
* Stationsbezeichnung
* LV95 Koordinaten x,y 
* WSG-84 Latitude, Longitude
* Altitude
* Messungsstart
* Messungsende
* Stationtyp/Klassifizierung


# Datenquellen

* Ostluft Immission- und Meteodaten
* NABEL Immission- und Meteodaten
* Meteoschweiz Meteodaten
* ETHZ Meteodaten
* Hysplit


# Ablageform








